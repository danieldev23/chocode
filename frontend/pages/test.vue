<script setup lang="ts">
import { onMounted } from "vue";

const { $socket } = useNuxtApp(); // TypeScript sáº½ khÃ´ng bÃ¡o lá»—i ná»¯a âœ…

onMounted(() => {
  if (!$socket.connected) {
    $socket.connect();
  }

  $socket.emit("message", "Hello WebSocket");

  $socket.on("message", (data) => {
    console.log("ðŸ“© Nháº­n Ä‘Æ°á»£c:", data);
  });
});
</script>

<template>
  <div>
    <h1 class="text-2xl">WebSocket trong Nuxt 3</h1>
    <button @click="$socket.emit('message', 'Ping')">Gá»­i tin nháº¯n</button>
  </div>
</template>
